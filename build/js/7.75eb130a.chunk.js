(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{29:function(t,e,n){},48:function(t,e,n){"use strict";var o=n(29);n.n(o).a},73:function(t,e,n){"use strict";n.r(e);var o=n(24),a=n.n(o),s={name:"login",data:function(){return{token:""}},mounted:function(){this.$message("请登录！")},methods:{login:function(){var t=this;if(""===this.token||this.token.length<36)return this.$message("请检查你的token"),!1;a.a.post("https://cnodejs.org/api/v1/accesstoken",{accesstoken:this.token}).then(function(e){if(e.data.success){localStorage.token=t.token,localStorage.loginname=e.data.loginname,t.$store.commit("setLoginname",e.data.loginname),t.$message("登陆成功~");var n=t.$route.query.redirect||"/";t.$router.push({path:n})}}).catch(function(){t.$message("请检查你的token是否正确")})}}},i=(n(48),n(1)),c=Object(i.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login-page"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],attrs:{type:"text",placeholder:"在此填入你的Access Token",maxlength:"36",required:""},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}}),t._v(" "),n("button",{attrs:{type:"button"},on:{click:t.login}},[t._v("登陆")])])},[],!1,null,"8ac1f1fa",null);e.default=c.exports}}]);