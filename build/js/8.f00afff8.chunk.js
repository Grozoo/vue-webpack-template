(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{19:function(t,a,e){},20:function(t,a,e){},21:function(t,a,e){"use strict";var s={name:"list",props:{listType:String,data:Object}},i=(e(23),e(1)),n=Object(i.a)(s,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"list"},[e("router-link",{attrs:{to:{name:"user",params:{id:t.data.author.loginname}}}},[e("img",{attrs:{src:t.data.author.avatar_url,alt:t.data.author.loginname}})]),t._v(" "),e("div",{staticClass:"content"},["reply"!==t.listType?e("router-link",{attrs:{to:{name:"topic",params:{id:t.data.id}}}},[e("h2",[t._v(t._s(t.data.title))])]):t._e(),t._v(" "),e("div",{staticClass:"meta"},[e("span",[t._v(t._s(t.data.author.loginname))]),t._v(" "),t.data.create_at?e("span",[t._v("发表时间："+t._s(new Date(t.data.create_at).getFullYear()+"-"+(new Date(t.data.create_at).getMonth()+1)))]):t._e(),t._v(" "),"reply"!==t.listType?e("span",[t._v("最后回复："+t._s(t.data.last_reply_at))]):t._e()]),t._v(" "),"reply"==t.listType?e("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.data.content)}}):t._e(),t._v(" "),"post"==t.listType?e("div",{staticClass:"tag"},[t.data.good?e("span",[t._v("good")]):t._e(),t._v(" "),t.data.top?e("span",[t._v("top")]):t._e()]):t._e(),t._v(" "),"post"==t.listType?e("div",{staticClass:"view"},[e("span",[t._v(t._s(t.data.reply_count||0)+" ")]),t._v(" "),e("span",[t._v("/"+t._s(t.data.visit_count||0))])]):t._e()],1)],1)},[],!1,null,"630232cc",null);a.a=n.exports},23:function(t,a,e){"use strict";var s=e(19);e.n(s).a},25:function(t,a,e){"use strict";var s={name:"loading"},i=(e(33),e(1)),n=Object(i.a)(s,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"loading"}},[a("span"),this._v(" "),a("span"),this._v(" "),a("span")])}],!1,null,"f0aa6358",null);a.a=n.exports},30:function(t,a,e){},33:function(t,a,e){"use strict";var s=e(20);e.n(s).a},50:function(t,a,e){"use strict";var s=e(30);e.n(s).a},77:function(t,a,e){"use strict";e.r(a);var s=e(24),i=e.n(s),n=(e(17),e(21)),o={name:"topic",data:function(){return{isLoading:!0,topicId:"",topic:{},newReply:""}},mounted:function(){var t=this;this.isLoading=!0,window.scrollTo(0,0),this.topicId=this.$route.params.id,i.a.get("https://cnodejs.org/api/v1/topic/"+this.topicId).then(function(a){t.topic=a.data.data,console.log(t.topic),t.isLoading=!1}).catch(function(a){return t.$message("出错了")})},methods:{reply:function(){var t=this;if(""===this.newReply)return this.$message("写点什么吧"),!1;i.a.post("https://cnodejs.org/api/v1/topic/"+this.topicId+"/replies",{accesstoken:localStorage.token,content:this.newReply}).then(function(a){a.data.success&&(t.$message("回复成功"),window.location.reload())}).catch(function(){t.$message("出错了")})}},components:{Loading:e(25).a,List:n.a}},c=(e(50),e(1)),r=Object(c.a)(o,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"topic"}},[t.isLoading?e("loading"):t._e(),t._v(" "),e("article",{staticClass:"topic markdown-body"},[e("h2",{staticClass:"topic-title",domProps:{textContent:t._s(t.topic.title)}}),t._v(" "),e("ul",{staticClass:"topic-meta"},[e("li",{domProps:{textContent:t._s(t.topic.create_at)}}),t._v(" "),e("li",[t._v("浏览量："+t._s(t.topic.visit_count))]),t._v(" "),e("li",[t._v("分类："+t._s(t.topic.tab))]),t._v(" "),e("li",{staticClass:"tag"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.topic.good,expression:"topic.good"}]},[t._v("good")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.topic.top,expression:"topic.top"}]},[t._v("top")])])]),t._v(" "),e("section",{staticClass:"topic-content",domProps:{innerHTML:t._s(t.topic.content)}})]),t._v(" "),e("h2",{staticClass:"repliy-title"},[t._v("已有"+t._s(t.topic.reply_count)+"条评论")]),t._v(" "),t._l(t.topic.replies,function(t){return e("section",{key:t.id},[e("list",{attrs:{data:t,listType:"reply"}})],1)}),t._v(" "),e("div",{attrs:{id:"comment"}},[e("h2",{staticClass:"repliy-title"},[t._v("回复主题")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newReply,expression:"newReply"}],domProps:{value:t.newReply},on:{input:function(a){a.target.composing||(t.newReply=a.target.value)}}}),t._v(" "),e("br"),t._v(" "),e("button",{attrs:{type:"button"},on:{click:t.reply}},[t._v("回复")])])],2)},[],!1,null,"032bb28b",null);a.default=r.exports}}]);